<!DOCTYPE html>
<html lang="zh-cn">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>洛舒luosuu的小站  | Homebrew Install Scripts</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1">
	<meta name="generator" content="Hugo 0.73.0" />
	
	
	<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
	

	
	
	<link href="/dist/app.css" rel="stylesheet">
	

	

	
	
	

	
	
	
	



<link rel="stylesheet" href='https://luosuu.github.io/lib/katex.min.css' integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src='https://luosuu.github.io/lib/katex.min.js' integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>


<script defer src='https://luosuu.github.io/lib/contrib/auto-render.min.js' integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
crossorigin="anonymous"
onload='renderMathInElement(document.body);'></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

	
	
	
	<script>
		(function (u, c) {
			var d = document,
				t = 'script',
				o = d.createElement(t),
				s = d.getElementsByTagName(t)[0];
			o.src = u;
			if (c) {
				o.addEventListener('load', function (e) {
					c(e);
				});
			}
			s.parentNode.insertBefore(o, s);
		})('https:\/\/luosuu.github.io\/lib\/pangu.min.js', function () {
			pangu.spacingPage();
		});
	</script>
	
	
	<style type="text/css" media="screen, print">
		@font-face {
			font-family: "FancyTitleFont";
			font-style: normal;
			font-display: swap;
			src: url('https://luosuu.github.io/fonts/exampleFont.woff2') format('woff2'),
				url('https://luosuu.github.io/fonts/exampleFont.woff') format('woff');
		}

		 
		@font-face {
			font-family: 'Noto Serif CJK SC';
			font-style: normal;
			font-weight: 300;
			font-display: swap;
			src: local('Noto Serif CJK SC Light'), local('NotoSerifCJK-Light'),
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-300.woff2') format('woff2'),
				 
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-300.woff') format('woff');
			 
		}

		 
		@font-face {
			font-family: 'Noto Serif CJK SC';
			font-style: normal;
			font-weight: 400;
			font-display: swap;
			src: local('Noto Serif CJK SC'), local('NotoSerifCJK-Regular'),
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.woff2') format('woff2'),
				 
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-regular.woff') format('woff');
			 
		}

		 
		@font-face {
			font-family: 'Noto Serif CJK SC';
			font-style: normal;
			font-weight: 500;
			font-display: swap;
			src: local('Noto Serif CJK SC Medium'), local('NotoSerifCJK-Medium'),
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-500.woff2') format('woff2'),
				 
				url('https://luosuu.github.io/fonts/noto-serif-sc-v7-latin_chinese-simplified-500.woff') format('woff');
			 
		}
	</style>
	
	
</head>

<body class="bg-gray-100 text-gray-700 font-sans">
	<div class="p-6 sm:p-10 md:p-16 flex flex-wrap">
		<header class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-1 md:order-1 max-w-2xl">
			<div
				class="z-50 bg-gray-100 bg-opacity-75 bg-opacity-custom lg:min-w-0.7 max-w-xl md:float-right md:text-right leading-loose tracking-tight md:sticky md:top-0 pt-2">
				
<div>
	<h2>
		<a href="https://luosuu.github.io/" title="洛舒luosuu的小站" class="heading font-cursive icon">洛舒luosuu的小站</a>
	</h2>
</div>
<h1 class="pt-2">Homebrew Install Scripts</h1>

<div class="flex flex-wrap justify-end pt-2 "><div class="md:flex-grow-0 font-light">
	
	
	
	
	<a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400"
		href='/categories/software'>Software</a>
	
	
	

	

	
</div><time class="text-eucalyptus-500 md:text-right md:flex-grow font-light pl-4"
		datetime="2020-03-05T17:22:17&#43;08:00">2020-3-5 17:22</time>
</div>

<details class="toc" open>
<summary>
    <hr />
</summary>
<div class="inline toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ruby-scripts">Ruby Scripts</a></li>
    <li><a href="#set-homebrew-core">Set Homebrew Core</a></li>
    <li><a href="#set-homebrew-bottles">Set Homebrew Bottles</a></li>
    <li><a href="#set-homebrew-cask">Set Homebrew Cask</a></li>
  </ul>
</nav>
</div>
</details>

<hr />

			</div>
		</header>
		<main role="main" class="w-full md:w-3/5 xl:w-1/2 max-w-3xl order-2 md:order-2 min-h-70vh pt-2 pb-4">
			

<article>
	<section class="mx-auto content">
		<div class="c-rich-text"><p>通过ustc源安装homebrew</p>
<h2 id="ruby-scripts">Ruby Scripts</h2>
<p>brew_install.rb</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#75715e">#!/usr/bin/ruby</span>
<span style="color:#75715e"># This script installs to /usr/local only. To install elsewhere (which is</span>
<span style="color:#75715e"># unsupported) you can untar https://github.com/Homebrew/brew/tarball/master</span>
<span style="color:#75715e"># anywhere you like.</span>
<span style="color:#66d9ef">HOMEBREW_PREFIX</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/usr/local&#34;</span><span style="color:#f92672">.</span>freeze
<span style="color:#66d9ef">HOMEBREW_REPOSITORY</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/usr/local/Homebrew&#34;</span><span style="color:#f92672">.</span>freeze
<span style="color:#66d9ef">HOMEBREW_CACHE</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;HOME&#34;</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/Library/Caches/Homebrew&#34;</span><span style="color:#f92672">.</span>freeze
<span style="color:#66d9ef">BREW_REPO</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://mirrors.ustc.edu.cn/brew.git&#34;</span><span style="color:#f92672">.</span>freeze

<span style="color:#75715e"># TODO: bump version when new macOS is released</span>
<span style="color:#66d9ef">MACOS_LATEST_SUPPORTED</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;10.15&#34;</span><span style="color:#f92672">.</span>freeze
<span style="color:#75715e"># TODO: bump version when new macOS is released</span>
<span style="color:#66d9ef">MACOS_OLDEST_SUPPORTED</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;10.13&#34;</span><span style="color:#f92672">.</span>freeze

<span style="color:#75715e"># no analytics during installation</span>
<span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;HOMEBREW_NO_ANALYTICS_THIS_RUN&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span>
<span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;HOMEBREW_NO_ANALYTICS_MESSAGE_OUTPUT&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span>

<span style="color:#75715e"># get nicer global variables</span>
require <span style="color:#e6db74">&#34;English&#34;</span>

<span style="color:#66d9ef">module</span> Tty
  <span style="color:#66d9ef">module_function</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">blue</span>
    bold <span style="color:#ae81ff">34</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">red</span>
    bold <span style="color:#ae81ff">31</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reset</span>
    escape <span style="color:#ae81ff">0</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bold</span>(code <span style="color:#f92672">=</span> <span style="color:#ae81ff">39</span>)
    escape <span style="color:#e6db74">&#34;1;</span><span style="color:#e6db74">#{</span>code<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">underline</span>
    escape <span style="color:#e6db74">&#34;4;39&#34;</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">escape</span>(code)
    <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\033</span><span style="color:#e6db74">[</span><span style="color:#e6db74">#{</span>code<span style="color:#e6db74">}</span><span style="color:#e6db74">m&#34;</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">STDOUT</span><span style="color:#f92672">.</span>tty?
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Array</span>
  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">shell_s</span>
    cp <span style="color:#f92672">=</span> dup
    first <span style="color:#f92672">=</span> cp<span style="color:#f92672">.</span>shift
    cp<span style="color:#f92672">.</span>map { <span style="color:#f92672">|</span>arg<span style="color:#f92672">|</span> arg<span style="color:#f92672">.</span>gsub <span style="color:#e6db74">&#34; &#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74"> &#34;</span> }<span style="color:#f92672">.</span>unshift(first)<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#34; &#34;</span>)
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">ohai</span>(<span style="color:#f92672">*</span>args)
  puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>blue<span style="color:#e6db74">}</span><span style="color:#e6db74">==&gt;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>bold<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">#{</span>args<span style="color:#f92672">.</span>shell_s<span style="color:#e6db74">}#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>reset<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">warn</span>(warning)
  puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>red<span style="color:#e6db74">}</span><span style="color:#e6db74">Warning</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>reset<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">#{</span>warning<span style="color:#f92672">.</span>chomp<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">system</span>(<span style="color:#f92672">*</span>args)
  abort <span style="color:#e6db74">&#34;Failed during: </span><span style="color:#e6db74">#{</span>args<span style="color:#f92672">.</span>shell_s<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">unless</span> <span style="color:#66d9ef">Kernel</span><span style="color:#f92672">.</span>system(<span style="color:#f92672">*</span>args)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sudo</span>(<span style="color:#f92672">*</span>args)
  args<span style="color:#f92672">.</span>unshift(<span style="color:#e6db74">&#34;-A&#34;</span>) <span style="color:#66d9ef">unless</span> <span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;SUDO_ASKPASS&#34;</span><span style="color:#f92672">].</span>nil?
  ohai <span style="color:#e6db74">&#34;/usr/bin/sudo&#34;</span>, <span style="color:#f92672">*</span>args
  system <span style="color:#e6db74">&#34;/usr/bin/sudo&#34;</span>, <span style="color:#f92672">*</span>args
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getc</span>
  system <span style="color:#e6db74">&#34;/bin/stty raw -echo&#34;</span>
  <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">STDIN</span><span style="color:#f92672">.</span>respond_to?(<span style="color:#e6db74">:getbyte</span>)
    <span style="color:#66d9ef">STDIN</span><span style="color:#f92672">.</span>getbyte
  <span style="color:#66d9ef">else</span>
    <span style="color:#66d9ef">STDIN</span><span style="color:#f92672">.</span>getc
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">ensure</span>
  system <span style="color:#e6db74">&#34;/bin/stty -raw echo&#34;</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wait_for_user</span>
  puts
  puts <span style="color:#e6db74">&#34;Press RETURN to continue or any other key to abort&#34;</span>
  c <span style="color:#f92672">=</span> getc
  <span style="color:#75715e"># we test for \r and \n because some stuff does \r instead</span>
  abort <span style="color:#66d9ef">unless</span> (c <span style="color:#f92672">==</span> <span style="color:#ae81ff">13</span>) <span style="color:#f92672">||</span> (c <span style="color:#f92672">==</span> <span style="color:#ae81ff">10</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Version</span>
  <span style="color:#66d9ef">include</span> <span style="color:#66d9ef">Comparable</span>
  <span style="color:#66d9ef">attr_reader</span> <span style="color:#e6db74">:parts</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>(str)
    @parts <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;.&#34;</span>)<span style="color:#f92672">.</span>map(<span style="color:#f92672">&amp;</span><span style="color:#e6db74">:to_i</span>)
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">&lt;=&gt;</span>(other)
    parts <span style="color:#f92672">&lt;=&gt;</span> self<span style="color:#f92672">.</span>class<span style="color:#f92672">.</span>new(other)<span style="color:#f92672">.</span>parts
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">to_s</span>
    parts<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#34;.&#34;</span>)
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">macos_version</span>
  @macos_version <span style="color:#f92672">||=</span> <span style="color:#66d9ef">Version</span><span style="color:#f92672">.</span>new(<span style="color:#e6db74">`/usr/bin/sw_vers -productVersion`</span><span style="color:#f92672">.</span>chomp<span style="color:#f92672">[</span><span style="color:#e6db74">/10\.\d+/</span><span style="color:#f92672">]</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">should_install_command_line_tools?</span>
  <span style="color:#66d9ef">if</span> macos_version <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#34;10.13&#34;</span>
    <span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>exist?(<span style="color:#e6db74">&#34;/Library/Developer/CommandLineTools/usr/bin/git&#34;</span>)
  <span style="color:#66d9ef">else</span>
    <span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>exist?(<span style="color:#e6db74">&#34;/Library/Developer/CommandLineTools/usr/bin/git&#34;</span>) <span style="color:#f92672">||</span>
      <span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>exist?(<span style="color:#e6db74">&#34;/usr/include/iconv.h&#34;</span>)
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">user_only_chmod?</span>(path)
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span> <span style="color:#66d9ef">unless</span> <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>directory?(path)

  mode <span style="color:#f92672">=</span> <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>stat(path)<span style="color:#f92672">.</span>mode <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">0777</span>
  <span style="color:#75715e"># u = (mode &gt;&gt; 6) &amp; 07</span>
  <span style="color:#75715e"># g = (mode &gt;&gt; 3) &amp; 07</span>
  <span style="color:#75715e"># o = (mode &gt;&gt; 0) &amp; 07</span>
  mode <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0755</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">chmod?</span>(path)
  <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>exist?(path) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>(<span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>readable?(path) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>writable?(path) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>executable?(path))
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">chown?</span>(path)
  <span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>owned?(path)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">chgrp?</span>(path)
  <span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>grpowned?(path)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e"># USER isn&#39;t always set so provide a fall back for the installer and subprocesses.</span>
<span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;USER&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">||=</span> <span style="color:#e6db74">`id -un`</span><span style="color:#f92672">.</span>chomp

<span style="color:#75715e"># Invalidate sudo timestamp before exiting (if it wasn&#39;t active before).</span>
<span style="color:#66d9ef">Kernel</span><span style="color:#f92672">.</span>system <span style="color:#e6db74">&#34;/usr/bin/sudo -n -v 2&gt;/dev/null&#34;</span>
at_exit { <span style="color:#66d9ef">Kernel</span><span style="color:#f92672">.</span>system <span style="color:#e6db74">&#34;/usr/bin/sudo&#34;</span>, <span style="color:#e6db74">&#34;-k&#34;</span> } <span style="color:#66d9ef">unless</span> $CHILD_STATUS<span style="color:#f92672">.</span>success?

<span style="color:#75715e"># The block form of Dir.chdir fails later if Dir.CWD doesn&#39;t exist which I</span>
<span style="color:#75715e"># guess is fair enough. Also sudo prints a warning message for no good reason</span>
<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>chdir <span style="color:#e6db74">&#34;/usr&#34;</span>

<span style="color:#75715e">####################################################################### script</span>
<span style="color:#66d9ef">if</span> <span style="color:#66d9ef">RUBY_PLATFORM</span><span style="color:#f92672">.</span>to_s<span style="color:#f92672">.</span>downcase<span style="color:#f92672">.</span>include?(<span style="color:#e6db74">&#34;linux&#34;</span>)
  abort <span style="color:#e6db74">&lt;&lt;-EOABORT
</span><span style="color:#e6db74"></span>  <span style="color:#66d9ef">To</span> install <span style="color:#66d9ef">Linuxbrew</span>, paste at a terminal <span style="color:#e6db74">prompt</span>:
    sh <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#34;$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)&#34;</span>
  <span style="color:#66d9ef">EOABORT</span>
<span style="color:#66d9ef">elsif</span> macos_version <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;10.7&#34;</span>
  abort <span style="color:#e6db74">&lt;&lt;-EOABORT
</span><span style="color:#e6db74"></span><span style="color:#66d9ef">Your</span> <span style="color:#66d9ef">Mac</span> <span style="color:#66d9ef">OS</span> X version is too old<span style="color:#f92672">.</span> <span style="color:#e6db74">See</span>:
  <span style="color:#75715e">#{Tty.underline}https://github.com/mistydemeo/tigerbrew#{Tty.reset}&#34;</span>
  <span style="color:#66d9ef">EOABORT</span>
<span style="color:#66d9ef">elsif</span> macos_version <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;10.9&#34;</span>
  abort <span style="color:#e6db74">&#34;Your OS X version is too old&#34;</span>
<span style="color:#66d9ef">elsif</span> <span style="color:#66d9ef">Process</span><span style="color:#f92672">.</span>uid<span style="color:#f92672">.</span>zero?
  abort <span style="color:#e6db74">&#34;Don&#39;t run this as root!&#34;</span>
<span style="color:#66d9ef">elsif</span> <span style="color:#f92672">!</span><span style="color:#e6db74">`dsmemberutil checkmembership -U &#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;USER&#34;</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; -G admin`</span><span style="color:#f92672">.</span>include?(<span style="color:#e6db74">&#34;user is a member&#34;</span>)
  abort <span style="color:#e6db74">&#34;This script requires the user </span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;USER&#34;</span><span style="color:#f92672">]</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> to be an Administrator.&#34;</span>
<span style="color:#66d9ef">elsif</span> <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>directory?(<span style="color:#66d9ef">HOMEBREW_PREFIX</span>) <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>executable? <span style="color:#66d9ef">HOMEBREW_PREFIX</span>)
  abort <span style="color:#e6db74">&lt;&lt;-EOABORT
</span><span style="color:#e6db74"></span><span style="color:#66d9ef">The</span> <span style="color:#66d9ef">Homebrew</span> prefix, <span style="color:#75715e">#{HOMEBREW_PREFIX}, exists but is not searchable. If this is</span>
<span style="color:#f92672">not</span> intentional, please restore the default permissions <span style="color:#f92672">and</span> try running the
installer <span style="color:#e6db74">again</span>:
    sudo chmod <span style="color:#ae81ff">775</span> <span style="color:#75715e">#{HOMEBREW_PREFIX}</span>
  <span style="color:#66d9ef">EOABORT</span>
<span style="color:#75715e"># TODO: bump version when new macOS is released</span>
<span style="color:#66d9ef">elsif</span> macos_version <span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">MACOS_LATEST_SUPPORTED</span> <span style="color:#f92672">||</span> macos_version <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">MACOS_OLDEST_SUPPORTED</span>
  who <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;We&#34;</span>
  <span style="color:#66d9ef">if</span> macos_version <span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">MACOS_LATEST_SUPPORTED</span>
    what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;pre-release version&#34;</span>
  <span style="color:#66d9ef">elsif</span> macos_version <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">MACOS_OLDEST_SUPPORTED</span>
    who <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; (and Apple)&#34;</span>
    what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;old version&#34;</span>
  <span style="color:#66d9ef">else</span>
    <span style="color:#66d9ef">return</span>
  <span style="color:#66d9ef">end</span>
  ohai <span style="color:#e6db74">&#34;You are using macOS </span><span style="color:#e6db74">#{</span>macos_version<span style="color:#f92672">.</span>parts<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#34;.&#34;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">.&#34;</span>
  ohai <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>who<span style="color:#e6db74">}</span><span style="color:#e6db74"> do not provide support for this </span><span style="color:#e6db74">#{</span>what<span style="color:#e6db74">}</span><span style="color:#e6db74">.&#34;</span>

  puts <span style="color:#e6db74">&lt;&lt;-EOS
</span><span style="color:#e6db74"></span><span style="color:#66d9ef">This</span> installation may <span style="color:#f92672">not</span> succeed<span style="color:#f92672">.</span>
<span style="color:#66d9ef">After</span> installation, you will encounter build failures with some formulae<span style="color:#f92672">.</span>
<span style="color:#66d9ef">Please</span> create pull requests instead of asking <span style="color:#66d9ef">for</span> help on <span style="color:#66d9ef">Homebrew</span><span style="color:#e6db74">&#39;s GitHub,
</span><span style="color:#e6db74">Discourse, Twitter or IRC. You are responsible for resolving any issues you
</span><span style="color:#e6db74">experience while you are running this #{what}.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  EOS
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">ohai &#34;This script will install:&#34;
</span><span style="color:#e6db74">puts &#34;#{HOMEBREW_PREFIX}/bin/brew&#34;
</span><span style="color:#e6db74">puts &#34;#{HOMEBREW_PREFIX}/share/doc/homebrew&#34;
</span><span style="color:#e6db74">puts &#34;#{HOMEBREW_PREFIX}/share/man/man1/brew.1&#34;
</span><span style="color:#e6db74">puts &#34;#{HOMEBREW_PREFIX}/share/zsh/site-functions/_brew&#34;
</span><span style="color:#e6db74">puts &#34;#{HOMEBREW_PREFIX}/etc/bash_completion.d/brew&#34;
</span><span style="color:#e6db74">puts HOMEBREW_REPOSITORY.to_s
</span><span style="color:#e6db74">
</span><span style="color:#e6db74"># Keep relatively in sync with
</span><span style="color:#e6db74"># https://github.com/Homebrew/brew/blob/master/Library/Homebrew/keg.rb
</span><span style="color:#e6db74">group_chmods = %w[bin etc include lib sbin share opt var
</span><span style="color:#e6db74">                  Frameworks
</span><span style="color:#e6db74">                  etc/bash_completion.d lib/pkgconfig
</span><span style="color:#e6db74">                  share/aclocal share/doc share/info share/locale share/man
</span><span style="color:#e6db74">                  share/man/man1 share/man/man2 share/man/man3 share/man/man4
</span><span style="color:#e6db74">                  share/man/man5 share/man/man6 share/man/man7 share/man/man8
</span><span style="color:#e6db74">                  var/log var/homebrew var/homebrew/linked
</span><span style="color:#e6db74">                  bin/brew]
</span><span style="color:#e6db74">               .map { |d| File.join(HOMEBREW_PREFIX, d) }
</span><span style="color:#e6db74">               .select { |d| chmod?(d) }
</span><span style="color:#e6db74"># zsh refuses to read from these directories if group writable
</span><span style="color:#e6db74">zsh_dirs = %w[share/zsh share/zsh/site-functions]
</span><span style="color:#e6db74">           .map { |d| File.join(HOMEBREW_PREFIX, d) }
</span><span style="color:#e6db74">mkdirs = %w[bin etc include lib sbin share var opt
</span><span style="color:#e6db74">            share/zsh share/zsh/site-functions
</span><span style="color:#e6db74">            var/homebrew var/homebrew/linked
</span><span style="color:#e6db74">            Cellar Caskroom Homebrew Frameworks]
</span><span style="color:#e6db74">         .map { |d| File.join(HOMEBREW_PREFIX, d) }
</span><span style="color:#e6db74">         .reject { |d| File.directory?(d) }
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">user_chmods = zsh_dirs.select { |d| user_only_chmod?(d) }
</span><span style="color:#e6db74">chmods = group_chmods + user_chmods
</span><span style="color:#e6db74">chowns = chmods.select { |d| chown?(d) }
</span><span style="color:#e6db74">chgrps = chmods.select { |d| chgrp?(d) }
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">unless group_chmods.empty?
</span><span style="color:#e6db74">  ohai &#34;The following existing directories will be made group writable:&#34;
</span><span style="color:#e6db74">  puts(*group_chmods)
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">unless user_chmods.empty?
</span><span style="color:#e6db74">  ohai &#34;The following existing directories will be made writable by user only:&#34;
</span><span style="color:#e6db74">  puts(*user_chmods)
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">unless chowns.empty?
</span><span style="color:#e6db74">  ohai &#34;The following existing directories will have their owner set to #{Tty.underline}#{ENV[&#34;USER&#34;]}#{Tty.reset}:&#34;
</span><span style="color:#e6db74">  puts(*chowns)
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">unless chgrps.empty?
</span><span style="color:#e6db74">  ohai &#34;The following existing directories will have their group set to #{Tty.underline}admin#{Tty.reset}:&#34;
</span><span style="color:#e6db74">  puts(*chgrps)
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">unless mkdirs.empty?
</span><span style="color:#e6db74">  ohai &#34;The following new directories will be created:&#34;
</span><span style="color:#e6db74">  puts(*mkdirs)
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">if should_install_command_line_tools?
</span><span style="color:#e6db74">  ohai &#34;The Xcode Command Line Tools will be installed.&#34;
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">wait_for_user if STDIN.tty? &amp;&amp; !ENV[&#34;CI&#34;]
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">if File.directory? HOMEBREW_PREFIX
</span><span style="color:#e6db74">  sudo &#34;/bin/chmod&#34;, &#34;u+rwx&#34;, *chmods unless chmods.empty?
</span><span style="color:#e6db74">  sudo &#34;/bin/chmod&#34;, &#34;g+rwx&#34;, *group_chmods unless group_chmods.empty?
</span><span style="color:#e6db74">  sudo &#34;/bin/chmod&#34;, &#34;755&#34;, *user_chmods unless user_chmods.empty?
</span><span style="color:#e6db74">  sudo &#34;/usr/sbin/chown&#34;, ENV[&#34;USER&#34;], *chowns unless chowns.empty?
</span><span style="color:#e6db74">  sudo &#34;/usr/bin/chgrp&#34;, &#34;admin&#34;, *chgrps unless chgrps.empty?
</span><span style="color:#e6db74">else
</span><span style="color:#e6db74">  sudo &#34;/bin/mkdir&#34;, &#34;-p&#34;, HOMEBREW_PREFIX
</span><span style="color:#e6db74">  sudo &#34;/usr/sbin/chown&#34;, &#34;root:wheel&#34;, HOMEBREW_PREFIX
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">unless mkdirs.empty?
</span><span style="color:#e6db74">  sudo &#34;/bin/mkdir&#34;, &#34;-p&#34;, *mkdirs
</span><span style="color:#e6db74">  sudo &#34;/bin/chmod&#34;, &#34;g+rwx&#34;, *mkdirs
</span><span style="color:#e6db74">  sudo &#34;/bin/chmod&#34;, &#34;755&#34;, *zsh_dirs
</span><span style="color:#e6db74">  sudo &#34;/usr/sbin/chown&#34;, ENV[&#34;USER&#34;], *mkdirs
</span><span style="color:#e6db74">  sudo &#34;/usr/bin/chgrp&#34;, &#34;admin&#34;, *mkdirs
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">sudo &#34;/bin/mkdir&#34;, &#34;-p&#34;, HOMEBREW_CACHE unless File.directory? HOMEBREW_CACHE
</span><span style="color:#e6db74">sudo &#34;/bin/chmod&#34;, &#34;g+rwx&#34;, HOMEBREW_CACHE if chmod? HOMEBREW_CACHE
</span><span style="color:#e6db74">sudo &#34;/usr/sbin/chown&#34;, ENV[&#34;USER&#34;], HOMEBREW_CACHE if chown? HOMEBREW_CACHE
</span><span style="color:#e6db74">sudo &#34;/usr/bin/chgrp&#34;, &#34;admin&#34;, HOMEBREW_CACHE if chgrp? HOMEBREW_CACHE
</span><span style="color:#e6db74">system &#34;/usr/bin/touch&#34;, &#34;#{HOMEBREW_CACHE}/.cleaned&#34; if File.directory? HOMEBREW_CACHE
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">if should_install_command_line_tools? &amp;&amp; macos_version &gt;= &#34;10.13&#34;
</span><span style="color:#e6db74">  ohai &#34;Searching online for the Command Line Tools&#34;
</span><span style="color:#e6db74">  # This temporary file prompts the &#39;</span>softwareupdate<span style="color:#e6db74">&#39; utility to list the Command Line Tools
</span><span style="color:#e6db74">  clt_placeholder = &#34;/tmp/.com.apple.dt.CommandLineTools.installondemand.in-progress&#34;
</span><span style="color:#e6db74">  sudo &#34;/usr/bin/touch&#34;, clt_placeholder
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  clt_label_command = &#34;/usr/sbin/softwareupdate -l | &#34; \
</span><span style="color:#e6db74">                      &#34;grep -B 1 -E &#39;</span><span style="color:#66d9ef">Command</span> <span style="color:#66d9ef">Line</span> <span style="color:#66d9ef">Tools</span><span style="color:#e6db74">&#39; | &#34; \
</span><span style="color:#e6db74">                      &#34;awk -F&#39;</span><span style="color:#f92672">*</span><span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">/^</span> <span style="color:#f92672">*</span>\\<span style="color:#f92672">*/</span> {print $2}<span style="color:#e6db74">&#39; | &#34; \
</span><span style="color:#e6db74">                      &#34;sed -e &#39;</span>s<span style="color:#f92672">/^</span> <span style="color:#f92672">*</span><span style="color:#e6db74">Label</span>: <span style="color:#e6db74">//</span><span style="color:#e6db74">&#39; -e &#39;</span>s<span style="color:#f92672">/^</span> <span style="color:#f92672">*//</span><span style="color:#e6db74">&#39; | &#34; \
</span><span style="color:#e6db74">                      &#34;sort -V | &#34; \
</span><span style="color:#e6db74">                      &#34;tail -n1&#34;
</span><span style="color:#e6db74">  clt_label = `#{clt_label_command}`.chomp
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  unless clt_label.empty?
</span><span style="color:#e6db74">    ohai &#34;Installing #{clt_label}&#34;
</span><span style="color:#e6db74">    sudo &#34;/usr/sbin/softwareupdate&#34;, &#34;-i&#34;, clt_label
</span><span style="color:#e6db74">    sudo &#34;/bin/rm&#34;, &#34;-f&#34;, clt_placeholder
</span><span style="color:#e6db74">    sudo &#34;/usr/bin/xcode-select&#34;, &#34;--switch&#34;, &#34;/Library/Developer/CommandLineTools&#34;
</span><span style="color:#e6db74">  end
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74"># Headless install may have failed, so fallback to original &#39;</span>xcode<span style="color:#f92672">-</span>select<span style="color:#e6db74">&#39; method
</span><span style="color:#e6db74">if should_install_command_line_tools? &amp;&amp; STDIN.tty?
</span><span style="color:#e6db74">  ohai &#34;Installing the Command Line Tools (expect a GUI popup):&#34;
</span><span style="color:#e6db74">  sudo &#34;/usr/bin/xcode-select&#34;, &#34;--install&#34;
</span><span style="color:#e6db74">  puts &#34;Press any key when the installation has completed.&#34;
</span><span style="color:#e6db74">  getc
</span><span style="color:#e6db74">  sudo &#34;/usr/bin/xcode-select&#34;, &#34;--switch&#34;, &#34;/Library/Developer/CommandLineTools&#34;
</span><span style="color:#e6db74">end
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">abort &lt;&lt;-EOABORT if `/usr/bin/xcrun clang 2&gt;&amp;1` =~ /license/ &amp;&amp; !$CHILD_STATUS.success?
</span><span style="color:#e6db74">You have not agreed to the Xcode license.
</span><span style="color:#e6db74">Before running the installer again please agree to the license by opening
</span><span style="color:#e6db74">Xcode.app or running:
</span><span style="color:#e6db74">    sudo xcodebuild -license
</span><span style="color:#e6db74">EOABORT
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">ohai &#34;Downloading and installing Homebrew...&#34;
</span><span style="color:#e6db74">Dir.chdir HOMEBREW_REPOSITORY do
</span><span style="color:#e6db74">  # we do it in four steps to avoid merge errors when reinstalling
</span><span style="color:#e6db74">  system &#34;git&#34;, &#34;init&#34;, &#34;-q&#34;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  # &#34;git remote add&#34; will fail if the remote is defined in the global config
</span><span style="color:#e6db74">  system &#34;git&#34;, &#34;config&#34;, &#34;remote.origin.url&#34;, BREW_REPO
</span><span style="color:#e6db74">  system &#34;git&#34;, &#34;config&#34;, &#34;remote.origin.fetch&#34;, &#34;+refs/heads/*:refs/remotes/origin/*&#34;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">  # ensure we don&#39;</span>t munge line endings on checkout
  system <span style="color:#e6db74">&#34;git&#34;</span>, <span style="color:#e6db74">&#34;config&#34;</span>, <span style="color:#e6db74">&#34;core.autocrlf&#34;</span>, <span style="color:#e6db74">&#34;false&#34;</span>

  system <span style="color:#e6db74">&#34;git&#34;</span>, <span style="color:#e6db74">&#34;fetch&#34;</span>, <span style="color:#e6db74">&#34;origin&#34;</span>, <span style="color:#e6db74">&#34;master:refs/remotes/origin/master&#34;</span>,
         <span style="color:#e6db74">&#34;--tags&#34;</span>, <span style="color:#e6db74">&#34;--force&#34;</span>

  system <span style="color:#e6db74">&#34;git&#34;</span>, <span style="color:#e6db74">&#34;reset&#34;</span>, <span style="color:#e6db74">&#34;--hard&#34;</span>, <span style="color:#e6db74">&#34;origin/master&#34;</span>

  system <span style="color:#e6db74">&#34;ln&#34;</span>, <span style="color:#e6db74">&#34;-sf&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">HOMEBREW_REPOSITORY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/bin/brew&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">HOMEBREW_PREFIX</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/bin/brew&#34;</span>

  system <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">HOMEBREW_PREFIX</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/bin/brew&#34;</span>, <span style="color:#e6db74">&#34;update&#34;</span>, <span style="color:#e6db74">&#34;--force&#34;</span>
<span style="color:#66d9ef">end</span>

warn <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">HOMEBREW_PREFIX</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/bin is not in your PATH.&#34;</span> <span style="color:#66d9ef">unless</span> <span style="color:#66d9ef">ENV</span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;PATH&#34;</span><span style="color:#f92672">].</span>split(<span style="color:#e6db74">&#34;:&#34;</span>)<span style="color:#f92672">.</span>include? <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">HOMEBREW_PREFIX</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/bin&#34;</span>

ohai <span style="color:#e6db74">&#34;Installation successful!&#34;</span>
puts

<span style="color:#75715e"># Use the shell&#39;s audible bell.</span>
print <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\a</span><span style="color:#e6db74">&#34;</span>

<span style="color:#75715e"># Use an extra newline and bold to avoid this being missed.</span>
ohai <span style="color:#e6db74">&#34;Homebrew has enabled anonymous aggregate formulae and cask analytics.&#34;</span>
puts <span style="color:#e6db74">&lt;&lt;-EOS
</span><span style="color:#e6db74"></span><span style="color:#75715e">#{Tty.bold}Read the analytics documentation (and how to opt-out) here:</span>
  <span style="color:#75715e">#{Tty.underline}https://docs.brew.sh/Analytics#{Tty.reset}</span>

<span style="color:#66d9ef">EOS</span>

ohai <span style="color:#e6db74">&#34;Homebrew is run entirely by unpaid volunteers. Please consider donating:&#34;</span>
puts <span style="color:#e6db74">&lt;&lt;-EOS
</span><span style="color:#e6db74"></span>  <span style="color:#75715e">#{Tty.underline}https://github.com/Homebrew/brew#donations#{Tty.reset}</span>
<span style="color:#66d9ef">EOS</span>

<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>chdir <span style="color:#66d9ef">HOMEBREW_REPOSITORY</span> <span style="color:#66d9ef">do</span>
  system <span style="color:#e6db74">&#34;git&#34;</span>, <span style="color:#e6db74">&#34;config&#34;</span>, <span style="color:#e6db74">&#34;--replace-all&#34;</span>, <span style="color:#e6db74">&#34;homebrew.analyticsmessage&#34;</span>, <span style="color:#e6db74">&#34;true&#34;</span>
  system <span style="color:#e6db74">&#34;git&#34;</span>, <span style="color:#e6db74">&#34;config&#34;</span>, <span style="color:#e6db74">&#34;--replace-all&#34;</span>, <span style="color:#e6db74">&#34;homebrew.caskanalyticsmessage&#34;</span>, <span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#66d9ef">end</span>

ohai <span style="color:#e6db74">&#34;Next steps:&#34;</span>
puts <span style="color:#e6db74">&#34;- Run `brew help` to get started&#34;</span>
puts <span style="color:#e6db74">&#34;- Further documentation: &#34;</span>
puts <span style="color:#e6db74">&#34;    </span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>underline<span style="color:#e6db74">}</span><span style="color:#e6db74">https://docs.brew.sh</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">Tty</span><span style="color:#f92672">.</span>reset<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</code></pre></div><h2 id="set-homebrew-core">Set Homebrew Core</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --repo<span style="color:#66d9ef">)</span><span style="color:#e6db74">/Library/Taps/homebrew/homebrew-core&#34;</span>
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
</code></pre></div><h2 id="set-homebrew-bottles">Set Homebrew Bottles</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&#39;</span> &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre></div><h2 id="set-homebrew-cask">Set Homebrew Cask</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --repo<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>/Library/Taps/homebrew/homebrew-cask
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
</code></pre></div><p>Finally, <code>brew update</code></p></div>
	</section>


</article>

		</main>
		<aside role="contentinfo"
			class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-4 md:order-3 md:sticky md:bottom-0 self-end max-w-2xl">
			<div class="md:float-right md:text-right leading-loose tracking-tight md:mb-2">
				
	<div class="md:max-w-xs  flex flex-col md:items-end">
	<ul class="font-serif flex-grow-0 flex justify-between flex-wrap md:flex-col">
	
	
	<li class="px-1 md:px-0">
		<a href="/post/" title="Posts page" 
			class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400" >
			Posts
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/categories/" title="Categories page" >
			Categories
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/tags/" title="Tags page" >
			Tags
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/about/" title="About page" >
			About
		</a>
	</li>
	
	
	
	
	<div id="fastSearch" class="m-0">
		<input id="searchInput" type="text" size=10 
			class="bg-gray-100 focus:outline-none border-b border-gray-100 focus:border-eucalyptus-300 md:text-right
			placeholder-java-500 min-w-0 max-w-xxxs"
			placeholder="search" />
		<ul id="searchResults" class="bg-gray-200 px-2 divide-y divide-gray-400">
		</ul>
	</div>
	
</ul>
	

<div class="flex flex-wrap-reverse md:justify-end content-end md:content-start justify-start items-start   max-h-16">
	
	<a href='https://github.com/Luosuu' target="_blank" class="github icon pl-1 text-eucalyptus-400 hover:text-java-400" title="github link" rel="noopener"
		aria-label="follow on github——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path fill-rule="nonzero" d="M5.883 18.653c-.3-.2-.558-.455-.86-.816a50.32 50.32 0 0 1-.466-.579c-.463-.575-.755-.84-1.057-.949a1 1 0 0 1 .676-1.883c.752.27 1.261.735 1.947 1.588-.094-.117.34.427.433.539.19.227.33.365.44.438.204.137.587.196 1.15.14.023-.382.094-.753.202-1.095C5.38 15.31 3.7 13.396 3.7 9.64c0-1.24.37-2.356 1.058-3.292-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047.803-.123 1.937.17 3.415 1.096A11.731 11.731 0 0 1 12 3.315c.912 0 1.818.104 2.684.308 1.477-.933 2.613-1.226 3.422-1.096.085.013.157.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.297.302 3.19.691.936 1.058 2.045 1.058 3.293 0 3.757-1.674 5.665-4.642 6.392.125.415.19.879.19 1.38a300.492 300.492 0 0 1-.012 2.716 1 1 0 0 1-.019 1.958c-1.139.228-1.983-.532-1.983-1.525l.002-.446.005-.705c.005-.708.007-1.338.007-1.998 0-.697-.183-1.152-.425-1.36-.661-.57-.326-1.655.54-1.752 2.967-.333 4.337-1.482 4.337-4.66 0-.955-.312-1.744-.913-2.404a1 1 0 0 1-.19-1.045c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135A9.626 9.626 0 0 0 12 5.315c-.89 0-1.772.119-2.592.35a1 1 0 0 1-.83-.134c-.752-.507-1.374-.807-1.868-.947-.144.653-.073 1.194.092 1.607a1 1 0 0 1-.189 1.045C6.016 7.89 5.7 8.694 5.7 9.64c0 3.172 1.371 4.328 4.322 4.66.865.097 1.201 1.177.544 1.748-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.662-.088-2.254-.485z"/>
    </g>
</svg>

		</div>
	</a>
	
	<a href='zhluosuu@outlook.com' target="_blank" class="mail icon pl-1 text-eucalyptus-400 hover:text-java-400" title="mail link" rel="noopener"
		aria-label="follow on mail——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 4.238l-7.928 7.1L4 7.216V19h16V7.238zM4.511 5l7.55 6.662L19.502 5H4.511z"/>
    </g>
</svg>
		</div>
	</a>
	
</div>
	<div class="text-sm text-gray-500 leading-tight a-gray">
		Copyright © 2020
		<br />
		Built with Hugo and theme <a href="https://github.com/heyeshuang/hugo-theme-tokiwa">Tokiwa</a>. 1367 words in this page.
	</div>
</div>

			</div>
		</aside>
		<footer class="w-full md:w-3/5 xl:w-1/2 order-3 max-w-3xl md:order-4 pt-2">
			
<hr class="double-line" />
<div class="flex flex-wrap justify-between pb-2 leading-loose font-serif">
    
    <a class="flex-grow-0" href="/about/">
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z" /></svg>
        About
    </a>
    
    
    <a class="flex-grow-0" href="/post/msra-summercamp/">
        MSRA Summercamp
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z" /></svg></a>
    
</div>
<div >



</div>
<hr />
<div class="pb-2">
    
</div>
<hr />

		</footer>
		

<script src="/dist/app.js"></script>


<script src="/lib/fuse.min.js"></script> 
<script src="/lib/fastsearch.js"></script>

	</div>
</body>

</html>