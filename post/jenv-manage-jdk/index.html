<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Jenv Manage JDK - luosuu的小站</title>
  <meta property="og:title" content="Jenv Manage JDK - luosuu的小站" />
  <meta name="twitter:title" content="Jenv Manage JDK - luosuu的小站" />
  <meta name="description" content="灵活管理JDK">
  <meta property="og:description" content="灵活管理JDK">
  <meta name="twitter:description" content="灵活管理JDK">
  <meta name="author" content="luosuu"/>
  <meta property="og:site_name" content="luosuu的小站" />
  <meta property="og:url" content="https://example.com/post/jenv-manage-jdk/" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.66.0" />

  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />

  <script src="/js/script.js"></script>
  <script src="/js/custom.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">luosuu的小站</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-tags"><a href="/tags/" title="Tags">Tags</a></li>
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">Jenv Manage JDK</h1>
      
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>March 5, 2020</time></li>
        <li class="article-meta-categories">
          <a href="/categories/software/">
            <i class="fas fa-folder"></i>
            Software
          </a>&nbsp;
        </li>
      </ul>
      
      <p>灵活管理JDK</p>
<h2 id="whats-jenv">What&rsquo;s jenv</h2>
<p>在我安装weka的python包时，需要安装javabridge这个包，于是我先后下载了JDK13和openJDK1.8.0，需要管理JDK的环境（题外话，安装javabridge时需要环境为JDK8或者同等级的openJDk，太新的JDK13不行）</p>
<p>jenv 是一个命令行工具，可以在 Linux/OS X 平台使用，可以管理多个版本 JDK，方便在多个版本 JDK 之间切换，另外其还可以设置 JAVA_HOME 环境变量。</p>
<p>使用 jenv 有一个前提，必须提前安装 JDK，其不提供下载安装 JDK 的功能。MacOSX 平台可以提前使用 brew 安装 JDK。</p>
<h2 id="install-jenv">Install jenv</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install jenv
</code></pre></div><p>macOS只需brew一行安装即可，其他平台请见下方</p>
<pre><code>git clone https://github.com/jenv/jenv.git ~/.jenv
</code></pre><p>如果是bash:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#39;export PATH=&#34;$HOME/.jenv/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.bash_profile   
echo <span style="color:#e6db74">&#39;eval &#34;$(jenv init -)&#34;&#39;</span> &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre></div><p>如果是zsh:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-zsh" data-lang="zsh">echo <span style="color:#e6db74">&#39;export PATH=&#34;$HOME/.jenv/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.zshrc  
echo <span style="color:#e6db74">&#39;eval &#34;$(jenv init -)&#34;&#39;</span> &gt;&gt; ~/.zshrc
source ~/.zshrc
</code></pre></div><h2 id="usage">usage</h2>
<p>先用下面这行查找出所有已安装的JDK</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/usr/libexec/java_home -V
</code></pre></div><p>找到JDK的路径后，使用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv add &lt;JDK_path&gt;
</code></pre></div><p>将JDK加入jenv的管理</p>
<p>有些应用程序需要使用<code>JAVA_HOME</code>环境变量，可以设置jenv轻松变更该环境变量</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv enable-plugin export
<span style="color:#75715e">## 运行这个才会生效</span>
exec $SHELL -l
</code></pre></div><p>可以用下面这条显示所有jenv管理的版本</p>
<pre><code>jenv versions
</code></pre><p>对当前文件夹更换JDK环境</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv local &lt;version_number&gt;
</code></pre></div><p>对当前shell里的所有操作更换JDK环境</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv shell &lt;version_numbers&gt;
</code></pre></div><p>全局设置JDK环境</p>
<pre><code>jenv global &lt;version_numbers&gt;
</code></pre><p>对jenv进行检查</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv doctor
</code></pre></div><p>显示所有可行操作</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jenv commands
</code></pre></div><p>如果使用过程中，发现JDK环境没有变(<code>java -version</code>)，可以运行<code>exec $SHELL -l</code>尝试，然后看看JDK环境是否变化。</p>
    </article>

    


    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/post/sicp-2-1-1/" data-toggle="tooltip" data-placement="top" title="sicp-2.1.1-Examples:Arithmetic Operations for Rational Numbers">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/post/pip-change-source/" data-toggle="tooltip" data-placement="top" title="pip change source">Older &gt;</a>
      </li>
    </ul>
  </div>

<script src="https://cdn.bootcss.com/highlight.js/9.18.1/highlight.min.js"></script>
</body>
</html>
